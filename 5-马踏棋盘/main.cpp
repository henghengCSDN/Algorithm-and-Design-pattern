#include <stdio.h>

#define R 8
#define C 8

//定义并初始化迷宫 
int H[R+4][C+4]={
			     {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
				 {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1, 0, 0, 0, 0, 0, 0, 0, 0,-1,-1},
				 {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
				 {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
				};
int Move[8][2]={{2,1},{1,2},{-1,2},{-2,1},{-2,-1},{-1,-2},{1,-2},{2,-1}};	//定义移动探查的数组 
int cnt=0;	//计数器，马的路径 
int no=0;		//计数器

void print(){
	int i,j;
	printf("\n");
	printf ("第%d条路坐标依次为：\n",++no);
	for (i=2;i<10;i++){
		for (j=2;j<10;j++){
			printf("%5d",H[i][j]);
		}
		printf("\n");
	}	
	printf("\n"); 
}

int Horse (int x,int y){
	int i;
	int a=0,b=0;
	for (i=0;i<8;i++){
		a=x+Move[i][0];
		b=y+Move[i][1];
		if (H[a][b]==0 ){
			H[a][b]=++cnt;
			if (cnt==64)
				print();
			else
				Horse(a,b);
			H[a][b]=0;	//抹标记 
			cnt--; 
		} 
	}
} 

int main (void){
	int i,j;
	for (i=2;i<10;i++)
		for (j=2;j<10;j++){
			cnt=0;
			H[i][j]=++cnt;
			Horse(i,j);
		}
	return 0;
}
